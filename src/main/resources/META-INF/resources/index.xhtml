<ui:composition template="/WEB-INF/Plantilla/template.xhtml" xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

	<ui:define name="content">
		<h:form id="formMain">
			<p:growl id="growl" showDetail="true">
				<p:autoUpdate />
			</p:growl>
			<p:tabView>

				<p:tab title="Idioma" style="width: 350px;">
					<p:dataTable var="idioma" value="#{mainController.idiomas}" emptyMessage="No se encontraron idiomas" id="idiomaDataTable"
						widgetVar="idiomaDataTable"
						paginatorTemplate="{RowsPerPageDropdown} {FirstPageLink} {PreviousPageLink} {CurrentPageReport} {NextPageLink} {LastPageLink}"
						currentPageReportTemplate="{totalRecords} resultados, Página {currentPage}/{totalPages}" paginator="true" rowKey="#{idioma.id}"
						paginatorPosition="bottom" rows="5" rowsPerPageTemplate="5,10,20,{ShowAll|'All'}">

						<p:column styleClass="centeredColumnContent" headerText="Nombre" sortBy="#{idioma.nombre}" filterBy="#{idioma.nombre}"
							filterMatchMode="contains">
							<h:outputText value="#{idioma.nombre}" />
						</p:column>

						<p:column headerText="Operaciones" styleClass="centeredColumnContent">
							<p:commandLink style="text-decoration: none;" process="@this" action="#{mainController.actualizarIdioma(idioma)}"
								oncomplete="PF('EditarIdiomaDialog').show()">
								<span class="pi pi-pencil btn btn-warning" />
							</p:commandLink>
							<p:commandLink style="text-decoration: none;" process="@this" action="#{mainController.eliminarIdioma(idioma)}" onstart="start()"
								oncomplete="stop()">
								<span class="pi pi-trash btn btn-danger" />
								<p:confirm type="popup" header="Confirmación" message="Se va a borrar el idioma #{idioma.nombre}" />
							</p:commandLink>
						</p:column>

						<p:autoUpdate />
					</p:dataTable>
					<p:commandLink type="button" class="btn btn-info col-12 mt-2" value="Añadir un Idioma" action="#{mainController.crearIdioma()}"
						oncomplete="PF('EditarIdiomaDialog').show()" process="@this" />
				</p:tab>

				<p:tab title="Área">
					<p:dataTable var="area" value="#{mainController.areas}" emptyMessage="No se encontraron áreas" id="areaDataTable" widgetVar="areaDataTable"
						paginatorTemplate="{RowsPerPageDropdown} {FirstPageLink} {PreviousPageLink} {CurrentPageReport} {NextPageLink} {LastPageLink}"
						currentPageReportTemplate="{totalRecords} resultados, Página {currentPage}/{totalPages}" paginator="true" rowKey="#{area.id}"
						paginatorPosition="bottom" rows="5" rowsPerPageTemplate="5,10,20,{ShowAll|'All'}">

						<p:column styleClass="centeredColumnContent" headerText="Nombre" sortBy="#{area.nombre}" filterBy="#{area.nombre}" filterMatchMode="contains">
							<h:outputText value="#{area.nombre}" />
						</p:column>

						<p:column styleClass="centeredColumnContent" headerText="Idioma" sortBy="#{area.idioma.nombre}" filterBy="#{area.idioma.nombre}"
							filterMatchMode="contains">
							<h:outputText value="#{area.idioma.nombre}" />
						</p:column>

						<p:column styleClass="centeredColumnContent" headerText="Operaciones">
							<p:commandLink style="text-decoration: none;" process="@this" action="#{mainController.actualizarArea(area)}"
								oncomplete="PF('EditarAreaDialog').show()">
								<span class="pi pi-pencil btn btn-warning" />
							</p:commandLink>
							<p:commandLink style="text-decoration: none;" process="@this" action="#{mainController.eliminarArea(area)}" onstart="start()"
								oncomplete="stop()">
								<span class="pi pi-trash btn btn-danger" />
								<p:confirm type="popup" header="Confirmación" message="Se va a borrar el area #{area.nombre}" />
							</p:commandLink>
						</p:column>

						<p:autoUpdate />
					</p:dataTable>
					<p:commandLink type="button" class="btn btn-info col-12 mt-2" value="Añadir un Área" action="#{mainController.crearArea()}"
						oncomplete="PF('EditarAreaDialog').show()" process="@this" />
				</p:tab>

				<p:tab title="Categoría">
					<p:dataTable var="categoria" value="#{mainController.categorias}" emptyMessage="No se encontraron categorias" id="categoriaDataTable"
						widgetVar="categoriaDataTable"
						paginatorTemplate="{RowsPerPageDropdown} {FirstPageLink} {PreviousPageLink} {CurrentPageReport} {NextPageLink} {LastPageLink}"
						currentPageReportTemplate="{totalRecords} resultados, Página {currentPage}/{totalPages}" paginator="true" rowKey="#{categoria.id}"
						paginatorPosition="bottom" rows="5" rowsPerPageTemplate="5,10,20,{ShowAll|'All'}">

						<p:column styleClass="centeredColumnContent" headerText="Nombre" sortBy="#{categoria.nombre}" filterBy="#{categoria.nombre}"
							filterMatchMode="contains">
							<h:outputText value="#{categoria.nombre}" />
						</p:column>

						<p:column styleClass="centeredColumnContent" headerText="Puntuación" sortBy="#{categoria.puntuacion}" filterBy="#{categoria.puntuacion}"
							filterMatchMode="contains">
							<h:outputText value="#{categoria.puntuacion}" />
						</p:column>

						<p:column styleClass="centeredColumnContent" headerText="Área" sortBy="#{categoria.area.nombre}" filterBy="#{categoria.area.nombre}"
							filterMatchMode="contains">
							<h:outputText value="#{categoria.area.nombre}" />
						</p:column>

						<p:column styleClass="centeredColumnContent" headerText="Operaciones">
							<p:commandLink style="text-decoration: none;" process="@this" action="#{mainController.actualizarCategoria(categoria)}"
								oncomplete="PF('EditarCategoriaDialog').show()">
								<span class="pi pi-pencil btn btn-warning" />
							</p:commandLink>
							<p:commandLink style="text-decoration: none;" process="@this" action="#{mainController.eliminarCategoria(categoria)}" onstart="start()"
								oncomplete="stop()">
								<span class="pi pi-trash btn btn-danger" />
								<p:confirm type="popup" header="Confirmación" message="Se va a borrar la categoría #{categoria.nombre}" />
							</p:commandLink>
						</p:column>

						<p:autoUpdate />
					</p:dataTable>
					<p:commandLink type="button" class="btn btn-info col-12 mt-2" value="Añadir una Categoría" action="#{mainController.crearCategoria()}"
						oncomplete="PF('EditarCategoriaDialog').show()" process="@this" />
				</p:tab>

				<p:tab title="Perfil" style="width: 350px;">
					<p:dataTable var="perfil" value="#{mainController.perfiles}" emptyMessage="No se encontraron perfiles" id="perfilDataTable"
						widgetVar="perfilDataTable"
						paginatorTemplate="{RowsPerPageDropdown} {FirstPageLink} {PreviousPageLink} {CurrentPageReport} {NextPageLink} {LastPageLink}"
						currentPageReportTemplate="{totalRecords} resultados, Página {currentPage}/{totalPages}" paginator="true" rowKey="#{perfil.id}"
						paginatorPosition="bottom" rows="5" rowsPerPageTemplate="5,10,20,{ShowAll|'All'}">

						<p:column styleClass="centeredColumnContent" headerText="Nombre" sortBy="#{perfil.perfil}" filterBy="#{perfil.perfil}"
							filterMatchMode="contains">
							<h:outputText value="#{perfil.perfil}" />
						</p:column>

						<p:column headerText="Operaciones" styleClass="centeredColumnContent">
							<p:commandLink style="text-decoration: none;" process="@this" action="#{mainController.actualizarPerfil(perfil)}"
								oncomplete="PF('EditarPerfilDialog').show()">
								<span class="pi pi-pencil btn btn-warning" />
							</p:commandLink>
							<p:commandLink style="text-decoration: none;" process="@this" action="#{mainController.eliminarPerfil(perfil)}" onstart="start()"
								oncomplete="stop()">
								<span class="pi pi-trash btn btn-danger" />
								<p:confirm type="popup" header="Confirmación" message="Se va a borrar el perfil #{perfil.perfil}" />
							</p:commandLink>
						</p:column>

						<p:autoUpdate />
					</p:dataTable>
					<p:commandLink type="button" class="btn btn-info col-12 mt-2" value="Añadir un perfil" action="#{mainController.crearPerfil()}"
						oncomplete="PF('EditarPerfilDialog').show()" process="@this" />
				</p:tab>

				<p:tab title="Pregunta">
					<p:dataTable var="pregunta" value="#{mainController.preguntas}" emptyMessage="No se encontraron preguntas" id="preguntaDataTable"
						widgetVar="preguntaDataTable"
						paginatorTemplate="{RowsPerPageDropdown} {FirstPageLink} {PreviousPageLink} {CurrentPageReport} {NextPageLink} {LastPageLink}"
						currentPageReportTemplate="{totalRecords} resultados, Página {currentPage}/{totalPages}" paginator="true" rowKey="#{pregunta.id}"
						paginatorPosition="bottom" rows="5" rowsPerPageTemplate="5,10,20,{ShowAll|'All'}">

						<p:column styleClass="centeredColumnContent" headerText="Pregunta" sortBy="#{pregunta.pregunta}" filterBy="#{pregunta.pregunta}"
							filterMatchMode="contains">
							<h:outputText value="#{pregunta.pregunta}" />
						</p:column>

						<p:column styleClass="centeredColumnContent" headerText="Puntuación" sortBy="#{pregunta.puntuacionRecomendacion}"
							filterBy="#{pregunta.puntuacionRecomendacion}" filterMatchMode="contains">
							<h:outputText value="#{pregunta.puntuacionRecomendacion}" />
						</p:column>

						<p:column styleClass="centeredColumnContent" headerText="Categoría" sortBy="#{pregunta.categoria.nombre}"
							filterBy="#{pregunta.categoria.nombre}" filterMatchMode="contains">
							<h:outputText value="#{pregunta.categoria.nombre}" />
						</p:column>

						<p:column styleClass="centeredColumnContent" headerText="Perfil" sortBy="#{pregunta.perfil.perfil}"
							filterBy="#{pregunta.perfil.perfil}" filterMatchMode="contains">
							<h:outputText value="#{pregunta.perfil.perfil}" />
						</p:column>

						<p:column styleClass="centeredColumnContent" headerText="Operaciones">
							<p:commandLink style="text-decoration: none;" process="@this" action="#{mainController.actualizarPregunta(pregunta)}"
								oncomplete="PF('EditarPreguntaDialog').show()">
								<span class="pi pi-pencil btn btn-warning" />
							</p:commandLink>
							<p:commandLink style="text-decoration: none;" process="@this" action="#{mainController.eliminarPregunta(pregunta)}" onstart="start()"
								oncomplete="stop()">
								<span class="pi pi-trash btn btn-danger" />
								<p:confirm type="popup" header="Confirmación" message="Se va a borrar la pregunta con id #{pregunta.id}" />
							</p:commandLink>
						</p:column>

						<p:autoUpdate />
					</p:dataTable>
					<p:commandLink type="button" class="btn btn-info col-12 mt-2" value="Añadir una Pregunta" action="#{mainController.crearPregunta()}"
						oncomplete="PF('EditarPreguntaDialog').show()" process="@this" />
				</p:tab>

				<p:tab title="Respuesta">
					<p:dataTable var="respuesta" value="#{mainController.respuestas}" emptyMessage="No se encontraron respuestas" id="respuestaDataTable"
						widgetVar="respuestaDataTable"
						paginatorTemplate="{RowsPerPageDropdown} {FirstPageLink} {PreviousPageLink} {CurrentPageReport} {NextPageLink} {LastPageLink}"
						currentPageReportTemplate="{totalRecords} resultados, Página {currentPage}/{totalPages}" paginator="true" rowKey="#{respuesta.id}"
						paginatorPosition="bottom" rows="5" rowsPerPageTemplate="5,10,20,{ShowAll|'All'}">

						<p:column styleClass="centeredColumnContent" headerText="Respuesta" sortBy="#{respuesta.respuesta}" filterBy="#{respuesta.respuesta}"
							filterMatchMode="contains">
							<h:outputText value="#{respuesta.respuesta}" />
						</p:column>

						<p:column styleClass="centeredColumnContent" headerText="Operaciones">
							<p:commandLink style="text-decoration: none;" process="@this" action="#{mainController.actualizarRespuesta(respuesta)}"
								oncomplete="PF('EditarRespuestaDialog').show()">
								<span class="pi pi-pencil btn btn-warning" />
							</p:commandLink>
							<p:commandLink style="text-decoration: none;" process="@this" action="#{mainController.eliminarRespuesta(respuesta)}" onstart="start()"
								oncomplete="stop()">
								<span class="pi pi-trash btn btn-danger" />
								<p:confirm type="popup" header="Confirmación" message="Se va a borrar la respuesta con id #{respuesta.id}" />
							</p:commandLink>
						</p:column>

						<p:autoUpdate />
					</p:dataTable>
					<p:commandLink type="button" class="btn btn-info col-12 mt-2" value="Añadir una Respuesta" action="#{mainController.crearRespuesta()}"
						oncomplete="PF('EditarRespuestaDialog').show()" process="@this" />
				</p:tab>

				<p:tab title="Pregunta-Respuesta">
					<p:dataTable var="preRes" value="#{mainController.preRes}" emptyMessage="No se encontraron relaciones de preguntas con respuestas"
						id="preResDataTable" widgetVar="preResDataTable"
						paginatorTemplate="{RowsPerPageDropdown} {FirstPageLink} {PreviousPageLink} {CurrentPageReport} {NextPageLink} {LastPageLink}"
						currentPageReportTemplate="{totalRecords} resultados, Página {currentPage}/{totalPages}" paginator="true"
						rowKey="#{preRes.pregunta.id}_#{preRes.respuesta.id}" paginatorPosition="bottom" rows="5" rowsPerPageTemplate="5,10,20,{ShowAll|'All'}">

						<p:column styleClass="centeredColumnContent" headerText="Pregunta" sortBy="#{preRes.pregunta.pregunta}" filterBy="#{preRes.pregunta.pregunta}"
							filterMatchMode="contains">
							<h:outputText value="#{preRes.pregunta.pregunta}" />
						</p:column>

						<p:column styleClass="centeredColumnContent" headerText="Respuesta" sortBy="#{preRes.respuesta.respuesta}"
							filterBy="#{preRes.respuesta.respuesta}" filterMatchMode="contains">
							<h:outputText value="#{preRes.respuesta.respuesta}" />
						</p:column>

						<p:column styleClass="centeredColumnContent" headerText="Puntuacion" sortBy="#{preRes.puntuacion}" filterBy="#{preRes.puntuacion}"
							filterMatchMode="contains">
							<h:outputText value="#{preRes.puntuacion}" />
						</p:column>

						<p:column styleClass="centeredColumnContent" headerText="Operaciones">
							<p:commandLink style="text-decoration: none;" process="@this" action="#{mainController.actualizarPreRes(preRes)}"
								oncomplete="PF('EditarPreResDialog').show()">
								<span class="pi pi-pencil btn btn-warning" />
							</p:commandLink>
							<p:commandLink style="text-decoration: none;" process="@this" action="#{mainController.eliminarPreRes(preRes)}" onstart="start()"
								oncomplete="stop()">
								<span class="pi pi-trash btn btn-danger" />
								<p:confirm type="popup" header="Confirmación"
									message="Se va a borrar la relación entre la pregunta #{preRes.pregunta.id} y la respuesta #{preRes.respuesta.id}" />
							</p:commandLink>
						</p:column>

						<p:autoUpdate />
					</p:dataTable>
					<p:commandLink type="button" class="btn btn-info col-12 mt-2" value="Relacionar pregunta con respuesta" action="#{mainController.crearPreRes()}"
						oncomplete="PF('EditarPreResDialog').show()" process="@this" />
				</p:tab>

				<p:tab title="Respuesta-Default">
					<p:dataTable var="respuestaDefecto" value="#{mainController.respuestasDefecto}" emptyMessage="No se encontraron respuestas por defecto"
						id="respuestaDefectoDataTable" widgetVar="respuestaDefectoDataTable"
						paginatorTemplate="{RowsPerPageDropdown} {FirstPageLink} {PreviousPageLink} {CurrentPageReport} {NextPageLink} {LastPageLink}"
						currentPageReportTemplate="{totalRecords} resultados, Página {currentPage}/{totalPages}" paginator="true"
						rowKey="#{respuestaDefecto.area.id}_#{respuestaDefecto.respuesta.id}" paginatorPosition="bottom" rows="5"
						rowsPerPageTemplate="5,10,20,{ShowAll|'All'}">

						<p:column styleClass="centeredColumnContent" headerText="Area" sortBy="#{respuestaDefecto.area.nombre}"
							filterBy="#{respuestaDefecto.area.nombre}" filterMatchMode="contains">
							<h:outputText value="#{respuestaDefecto.area.nombre}" />
						</p:column>

						<p:column styleClass="centeredColumnContent" headerText="Respuesta" sortBy="#{respuestaDefecto.respuesta.respuesta}"
							filterBy="#{respuestaDefecto.respuesta.respuesta}" filterMatchMode="contains">
							<h:outputText value="#{respuestaDefecto.respuesta.respuesta}" />
						</p:column>

						<p:column styleClass="centeredColumnContent" headerText="Puntuacion" sortBy="#{respuestaDefecto.puntuacion}"
							filterBy="#{respuestaDefecto.puntuacion}" filterMatchMode="contains">
							<h:outputText value="#{respuestaDefecto.puntuacion}" />
						</p:column>

						<p:column styleClass="centeredColumnContent" headerText="Operaciones">
							<p:commandLink style="text-decoration: none;" process="@this" action="#{mainController.actualizarRespuestaDefecto(respuestaDefecto)}"
								oncomplete="PF('EditarRespuestaDefectoDialog').show()">
								<span class="pi pi-pencil btn btn-warning" />
							</p:commandLink>
							<p:commandLink style="text-decoration: none;" process="@this" action="#{mainController.eliminarRespuestaDefecto(respuestaDefecto)}"
								onstart="start()" oncomplete="stop()">
								<span class="pi pi-trash btn btn-danger" />
								<p:confirm type="popup" header="Confirmación"
									message="Se va a borrar la relación entre el área #{respuestaDefecto.area.nombre} y la respuesta #{respuestaDefecto.respuesta.respuesta}" />
							</p:commandLink>
						</p:column>

						<p:autoUpdate />
					</p:dataTable>
					<p:commandLink type="button" class="btn btn-info col-12 mt-2" value="Añadir una respuesta por defecto"
						action="#{mainController.crearRespuestaDefecto()}" oncomplete="PF('EditarRespuestaDefectoDialog').show()" process="@this" />
				</p:tab>

			</p:tabView>

			<p:treeTable multiViewState="true" class="mt-2" value="#{mainController.arbolDatos}" var="arbol">
				<p:autoUpdate />
				<f:facet name="header">
					<p:commandLink style="text-decoration: none;" process="@this"
						action="#{mainController.mostrarNodos(mainController.arbolDatos, mainController.arbolShowedReverse())}">
						<span class="pi pi-arrow-down btn btn-warning" />
					</p:commandLink>
					<span>Árbol JSON Api Rest</span>
					<p:commandLink style="text-decoration: none;" process="@this"
						action="#{mainController.mostrarNodos(mainController.arbolDatos, mainController.arbolShowedReverse())}">
						<span class="pi pi-arrow-down btn btn-warning" />
					</p:commandLink>
				</f:facet>
				<p:column>
					<h:outputText value="#{arbol}" />
				</p:column>
			</p:treeTable>

		</h:form>

		<p:dialog id="EditarIdiomaDialog" widgetVar="EditarIdiomaDialog" modal="true" showEffect="fade" hideEffect="fade" responsive="true"
			header="Editar/Crear idioma" dynamic="true" closeOnEscape="true" fitViewport="true" width="75%" resizable="false">
			<h:form id="EditarIdiomaForm">
				<p:autoUpdate />
				<div class="container-fluid" style="padding: 0px !important;">
					<div class="row">
						<div class="col-md-2">
							<h:outputLabel for="nombreIdioma" style="float:left!important;" value="Nombre:" />
						</div>
						<div class="col-md-10">
							<h:inputText class="col-12" maxlength="50" value="#{mainController.idiomaEdit.nombre}" id="nombreIdioma" required="true"
								requiredMessage="Campo requerido" />
						</div>
					</div>
					<div class="row mt-2">
						<div class="col-md-2">
							<h:outputLabel for="urlImagenIdioma" style="float:left!important;" value="UrlImagen:" />
						</div>
						<div class="col-md-10">
							<h:inputText class="col-12" maxlength="250" value="#{mainController.idiomaEdit.urlImagen}" id="urlImagenIdioma" required="true"
								requiredMessage="Campo requerido" />
						</div>
					</div>
					<div class="row mt-2">
						<div class="col-6">
							<p:commandLink id="saveButton" styleClass="btn btn-info btn-block col-12" action="#{mainController.persistIdioma()}" onstart="start()"
								oncomplete="if (args &amp;&amp; !args.validationFailed) PF('EditarIdiomaDialog').hide();stop()">
								<span class="pi pi-check-circle" />
								<span>Aceptar</span>
								<span class="pi pi-check-circle" />
							</p:commandLink>
						</div>
						<div class="col-6">
							<p:commandLink id="cancelButton" type="button" styleClass="btn btn-secondary btn-block col-12" onclick="PF('EditarIdiomaDialog').hide()"
								immediate="true">
								<span class="pi pi-times-circle" />
								<span>Cancelar</span>
								<span class="pi pi-times-circle" />
							</p:commandLink>
						</div>
					</div>
				</div>
			</h:form>
		</p:dialog>

		<p:dialog id="EditarAreaDialog" widgetVar="EditarAreaDialog" modal="true" showEffect="fade" hideEffect="fade" responsive="true"
			header="Editar/Crear área" dynamic="true" closeOnEscape="true" fitViewport="true" width="75%" resizable="false">
			<h:form id="EditarAreaForm">
				<p:autoUpdate />
				<div class="container-fluid" style="padding: 0px !important;">
					<div class="row">
						<div class="col-md-2">
							<h:outputLabel for="nombreArea" style="float:left!important;" value="Nombre:" />
						</div>
						<div class="col-md-10">
							<h:inputText class="col-12" value="#{mainController.areaEdit.nombre}" id="nombreArea" required="true" requiredMessage="Campo requerido" />
						</div>
					</div>
					<div class="row mt-2">
						<div class="col-md-2">
							<h:outputLabel for="areaIdIdioma" style="float:left!important;" value="Idioma:" />
						</div>
						<div class="col-md-10">
							<p:selectOneMenu id="oneMenuIdiomaArea" value="#{mainController.areaEdit.idioma}" effect="fade" var="i" filter="true"
								filterMatchMode="contains" converter="idiomaConverter" style="width: 100%">

								<f:selectItems value="#{mainController.idiomas}" var="idioma" itemLabel="#{idioma.nombre}" itemValue="#{idioma}" />

								<p:column>
									<f:facet name="header" style="text-align: center;">
										<h:outputText value="Bandera" />
									</f:facet>
									<p:graphicImage value="#{i.urlImagen}" width="35px" height="25px" />
								</p:column>

								<p:column>
									<f:facet name="header" style="text-align: center;">
										<h:outputText value="Nombre" />
									</f:facet>
									<h:outputText value="#{i.nombre}" />
								</p:column>

								<f:facet name="footer">
									<h:outputText value="#{mainController.idiomas.size()} idiomas en total" style="font-weight:bold" styleClass="p-py-1 p-d-block" />
								</f:facet>
							</p:selectOneMenu>
						</div>
					</div>
				</div>
				<div class="row mt-2">
					<div class="col-6">
						<p:commandLink id="saveButton" styleClass="btn btn-info btn-block col-12" action="#{mainController.persistArea()}" onstart="start()"
							oncomplete="if (args &amp;&amp; !args.validationFailed) PF('EditarAreaDialog').hide();stop()">
							<span class="pi pi-check-circle" />
							<span>Aceptar</span>
							<span class="pi pi-check-circle" />
						</p:commandLink>
					</div>
					<div class="col-6">
						<p:commandLink id="cancelButton" type="button" styleClass="btn btn-secondary btn-block col-12" onclick="PF('EditarAreaDialog').hide()"
							immediate="true">
							<span class="pi pi-times-circle" />
							<span>Cancelar</span>
							<span class="pi pi-times-circle" />
						</p:commandLink>
					</div>
				</div>
			</h:form>
		</p:dialog>

		<p:dialog id="EditarCategoriaDialog" widgetVar="EditarCategoriaDialog" modal="true" showEffect="fade" hideEffect="fade" responsive="true"
			header="Editar/Crear Categoría" dynamic="true" closeOnEscape="true" fitViewport="true" width="75%" resizable="false">
			<h:form id="EditarCategoriaForm">
				<p:autoUpdate />
				<div class="container-fluid" style="padding: 0px !important;">
					<div class="row">
						<div class="col-12">
							<h:outputLabel for="nombreCategoria" style="float:left!important;" value="Nombre:" />
						</div>
						<div class="col-12">
							<h:inputText class="col-12" maxlength="25" value="#{mainController.categoriaEdit.nombre}" id="nombreCategoria" required="true"
								requiredMessage="Campo requerido" />
						</div>
					</div>
					<div class="row mt-2">
						<div class="col-12">
							<h:outputLabel for="descripcionCategoria" style="float:left!important;" value="Descripción:" />
						</div>
						<div class="col-12">
							<h:inputText class="col-12" maxlength="100" value="#{mainController.categoriaEdit.descripcion}" id="descripcionCategoria" required="true"
								requiredMessage="Campo requerido" />
						</div>
					</div>
					<div class="row mt-2">
						<div class="col-12">
							<h:outputLabel for="idAreaCategoria" style="float:left!important;" value="Área:" />
						</div>
						<div class="col-12">
							<p:selectOneMenu id="oneMenuAreaCategoria" value="#{mainController.categoriaEdit.area}" effect="fade" var="i" filter="true"
								filterMatchMode="contains" converter="areaConverter" style="width: 100%">

								<f:selectItems value="#{mainController.areas}" var="area" itemLabel="#{area.nombre}" itemValue="#{area}" />

								<p:column>
									<f:facet name="header" style="text-align: center;">
										<h:outputText value="Nombre" />
									</f:facet>
									<h:outputText value="#{i.nombre}" />
								</p:column>

								<f:facet name="footer">
									<h:outputText value="#{mainController.areas.size()} áreas en total" style="font-weight:bold" styleClass="p-py-1 p-d-block" />
								</f:facet>
							</p:selectOneMenu>
						</div>
					</div>
					<div class="row mt-2">
						<div class="col-12">
							<h:outputLabel for="explicacionCategoria" style="float:left!important;" value="Explicación:" />
						</div>
						<div class="col-12">
							<h:inputText class="col-12" maxlength="200" value="#{mainController.categoriaEdit.explicacion}" id="explicacionCategoria" required="true"
								requiredMessage="Campo requerido" />
						</div>
					</div>
					<div class="row mt-2">
						<div class="col-12">
							<h:outputLabel for="maxRecCategoria" style="float:left!important;" value="MaxParaRecomendación:" />
						</div>
						<div class="col-12">
							<h:inputText class="col-12" maxlength="10" value="#{mainController.categoriaEdit.puntuacion}" id="puntuacionCategoria" required="true"
								requiredMessage="Campo requerido" />
							<p:keyFilter mask="num" for="puntuacionCategoria" />
						</div>
					</div>
					<div class="row mt-2">
						<div class="col-12">
							<h:outputLabel for="recomendacionCategoria" style="float:left!important;" value="Recomendación:" />
						</div>
						<div class="col-12">
							<p:textEditor value="#{mainController.categoriaEdit.recomendacion}" id="recomendacionCategoria" height="300" required="true"
								requiredMessage="Campo requerido" />
						</div>
					</div>
					<div class="row mt-2">
						<div class="col-6">
							<p:commandLink id="saveButton" styleClass="btn btn-info btn-block col-12" action="#{mainController.persistCategoria()}" onstart="start()"
								oncomplete="if (args &amp;&amp; !args.validationFailed) PF('EditarCategoriaDialog').hide();stop()">
								<span class="pi pi-check-circle" />
								<span>Aceptar</span>
								<span class="pi pi-check-circle" />
							</p:commandLink>
						</div>
						<div class="col-6">
							<p:commandLink id="cancelButton" type="button" styleClass="btn btn-secondary btn-block col-12" onclick="PF('EditarCategoriaDialog').hide()"
								immediate="true">
								<span class="pi pi-times-circle" />
								<span>Cancelar</span>
								<span class="pi pi-times-circle" />
							</p:commandLink>
						</div>
					</div>
				</div>
			</h:form>
		</p:dialog>

		<p:dialog id="EditarPreguntaDialog" widgetVar="EditarPreguntaDialog" modal="true" showEffect="fade" hideEffect="fade" responsive="true"
			header="Editar/Crear pregunta" dynamic="true" closeOnEscape="true" fitViewport="true" width="75%" resizable="false">
			<h:form id="EditarPreguntaForm">
				<p:autoUpdate />
				<div class="container-fluid" style="padding: 0px !important;">
					<div class="row">
						<div class="col-12">
							<h:outputLabel for="preguntaPregunta" style="float:left!important;" value="Pregunta:" />
						</div>
						<div class="col-12">
							<h:inputText class="col-12" maxlength="250" value="#{mainController.preguntaEdit.pregunta}" id="preguntaPregunta" required="true"
								requiredMessage="Campo requerido" />
						</div>
					</div>
					<div class="row mt-2">
						<div class="col-12">
							<h:outputLabel for="idCategoriaPregunta" style="float:left!important;" value="Categoría:" />
						</div>
						<div class="col-12">
							<p:selectOneMenu id="oneMenuCategoriaPregunta" value="#{mainController.preguntaEdit.categoria}" effect="fade" var="i" filter="true"
								filterMatchMode="contains" converter="categoriaConverter" style="width: 100%">

								<f:selectItems value="#{mainController.categorias}" var="categoria" itemLabel="#{categoria.nombre}" itemValue="#{categoria}" />

								<p:column>
									<f:facet name="header" style="text-align: center;">
										<h:outputText value="Nombre" />
									</f:facet>
									<h:outputText value="#{i.nombre}" />
								</p:column>

								<f:facet name="footer">
									<h:outputText value="#{mainController.categorias.size()} categorías en total" style="font-weight:bold" styleClass="p-py-1 p-d-block" />
								</f:facet>
							</p:selectOneMenu>
						</div>
					</div>
					<div class="row mt-2">
						<div class="col-12">
							<h:outputLabel for="perfilPregunta" style="float:left!important;" value="Perfil:" />
						</div>
						<div class="col-12">
							<p:selectOneMenu id="perfilPregunta" value="#{mainController.preguntaEdit.perfil}" effect="fade" var="i" filter="true"
								filterMatchMode="contains" converter="perfilConverter" style="width: 100%">

								<f:selectItems value="#{mainController.perfiles}" var="perfil" itemLabel="#{perfil.perfil}" itemValue="#{perfil}" />

								<p:column>
									<f:facet name="header" style="text-align: center;">
										<h:outputText value="Nombre" />
									</f:facet>
									<h:outputText value="#{i.perfil}" />
								</p:column>

								<f:facet name="footer">
									<h:outputText value="#{mainController.perfiles.size()} perfiles en total" style="font-weight:bold" styleClass="p-py-1 p-d-block" />
								</f:facet>
							</p:selectOneMenu>
						</div>
					</div>
					<div class="row mt-2">
						<div class="col-12">
							<h:outputLabel for="puntuacionPregunta" style="float:left!important;" value="Puntuación:" />
						</div>
						<div class="col-12">
							<h:inputText class="col-12" maxlength="10" value="#{mainController.preguntaEdit.puntuacionRecomendacion}" id="puntuacionPregunta"
								required="true" requiredMessage="Campo requerido" />
							<p:keyFilter mask="num" for="puntuacionPregunta" />
						</div>
					</div>
					<div class="row mt-2">
						<div class="col-12">
							<h:outputLabel for="recomendacionPregunta" style="float:left!important;" value="Recomendación:" />
						</div>
						<div class="col-12">
							<p:textEditor value="#{mainController.preguntaEdit.recomendacion}" id="recomendacionPregunta" height="300" required="true"
								requiredMessage="Campo requerido" />
						</div>
					</div>
					<div class="row mt-2">
						<div class="col-6">
							<p:commandLink id="saveButton" styleClass="btn btn-info btn-block col-12" action="#{mainController.persistPregunta()}" onstart="start()"
								oncomplete="if (args &amp;&amp; !args.validationFailed) PF('EditarPreguntaDialog').hide();stop()">
								<span class="pi pi-check-circle" />
								<span>Aceptar</span>
								<span class="pi pi-check-circle" />
							</p:commandLink>
						</div>
						<div class="col-6">
							<p:commandLink id="cancelButton" type="button" styleClass="btn btn-secondary btn-block col-12" onclick="PF('EditarPreguntaDialog').hide()"
								immediate="true">
								<span class="pi pi-times-circle" />
								<span>Cancelar</span>
								<span class="pi pi-times-circle" />
							</p:commandLink>
						</div>
					</div>
				</div>
			</h:form>
		</p:dialog>

		<p:dialog id="EditarRespuestaDialog" widgetVar="EditarRespuestaDialog" modal="true" showEffect="fade" hideEffect="fade" responsive="true"
			header="Editar respuesta" dynamic="true" closeOnEscape="true" fitViewport="true" width="75%" resizable="false">
			<h:form id="EditarRespuestaForm">
				<p:autoUpdate />
				<div class="container-fluid" style="padding: 0px !important;">
					<div class="row">
						<div class="col-md-2">
							<h:outputLabel for="respuestaRespuesta" style="float:left!important;" value="Respuesta:" />
						</div>
						<div class="col-10">
							<h:inputText class="col-12" maxlength="20" value="#{mainController.respuestaEdit.respuesta}" id="respuestaRespuesta" required="true"
								requiredMessage="Campo requerido" />
						</div>
					</div>
					<div class="row mt-2">
						<div class="col-md-6">
							<p:commandLink id="saveButton" styleClass="btn btn-info btn-block col-12" action="#{mainController.persistRespuesta()}" onstart="start()"
								oncomplete="if (args &amp;&amp; !args.validationFailed) PF('EditarRespuestaDialog').hide();stop()">
								<span class="pi pi-check-circle" />
								<span>Aceptar</span>
								<span class="pi pi-check-circle" />
							</p:commandLink>
						</div>
						<div class="col-6">
							<p:commandLink id="cancelButton" type="button" styleClass="btn btn-secondary btn-block col-12" onclick="PF('EditarRespuestaDialog').hide()"
								immediate="true">
								<span class="pi pi-times-circle" />
								<span>Cancelar</span>
								<span class="pi pi-times-circle" />
							</p:commandLink>
						</div>
					</div>
				</div>
			</h:form>
		</p:dialog>

		<p:dialog id="EditarPreResDialog" widgetVar="EditarPreResDialog" modal="true" showEffect="fade" hideEffect="fade" responsive="true"
			header="Editar/Crear Pregunta-Respuesta" dynamic="true" closeOnEscape="true" fitViewport="true" width="75%" resizable="false">
			<h:form id="EditarPreResForm">
				<p:autoUpdate />
				<div class="container-fluid" style="padding: 0px !important;">
					<div class="row">
						<div class="col-md-2">
							<h:outputLabel for="oneMenuPreguntaPre" style="float:left!important;" value="Pregunta:" />
						</div>
						<div class="col-md-10">
							<p:selectOneMenu id="oneMenuPreguntaPre" value="#{mainController.preResEdit.pregunta}" effect="fade" var="i" filter="true"
								filterMatchMode="contains" converter="preguntaConverter" style="width: 100%">

								<f:selectItems value="#{mainController.preguntas}" var="pregunta" itemLabel="#{pregunta.pregunta}" itemValue="#{pregunta}" />

								<p:column>
									<f:facet name="header" style="text-align: center;">
										<h:outputText value="Pregunta" />
									</f:facet>
									<h:outputText value="#{i.pregunta}" />
								</p:column>

								<f:facet name="footer">
									<h:outputText value="#{mainController.preguntas.size()} preguntas en total" style="font-weight:bold" styleClass="p-py-1 p-d-block" />
								</f:facet>
							</p:selectOneMenu>
						</div>
					</div>
					<div class="row mt-2">
						<div class="col-md-2">
							<h:outputLabel for="respuestaPreRes" style="float:left!important;" value="Respuesta:" />
						</div>
						<div class="col-md-10">
							<p:selectOneMenu id="oneMenuRespuestaPre" value="#{mainController.preResEdit.respuesta}" effect="fade" var="i" filter="true"
								filterMatchMode="contains" converter="respuestaConverter" style="width: 100%">

								<f:selectItems value="#{mainController.respuestas}" var="respuesta" itemLabel="#{respuesta.respuesta}" itemValue="#{respuesta}" />

								<p:column>
									<f:facet name="header" style="text-align: center;">
										<h:outputText value="Respuesta" />
									</f:facet>
									<h:outputText value="#{i.respuesta}" />
								</p:column>

								<f:facet name="footer">
									<h:outputText value="#{mainController.respuestas.size()} respuestas en total" style="font-weight:bold" styleClass="p-py-1 p-d-block" />
								</f:facet>
							</p:selectOneMenu>
						</div>
					</div>
					<div class="row mt-2">
						<div class="col-md-2">
							<h:outputLabel for="puntuacionPreRes" style="float:left!important;" value="Puntuación:" />
						</div>
						<div class="col-md-10">
							<h:inputText class="col-12" value="#{mainController.preResEdit.puntuacion}" id="puntuacionPreRes" required="true"
								requiredMessage="Campo requerido" />
							<p:keyFilter mask="num" for="puntuacionPreRes" />
						</div>
					</div>
					<div class="row mt-2">
						<div class="col-6">
							<p:commandLink id="saveButton" styleClass="btn btn-info btn-block col-12" action="#{mainController.persistPreRes()}" onstart="start()"
								oncomplete="if (args &amp;&amp; !args.validationFailed) PF('EditarPreResDialog').hide();stop()">
								<span class="pi pi-check-circle" />
								<span>Aceptar</span>
								<span class="pi pi-check-circle" />
							</p:commandLink>
						</div>
						<div class="col-6">
							<p:commandLink id="cancelButton" type="button" styleClass="btn btn-secondary btn-block col-12" onclick="PF('EditarPreResDialog').hide()"
								immediate="true">
								<span class="pi pi-times-circle" />
								<span>Cancelar</span>
								<span class="pi pi-times-circle" />
							</p:commandLink>
						</div>
					</div>
				</div>
			</h:form>
		</p:dialog>

		<p:dialog id="EditarRespuestaDefectoDialog" widgetVar="EditarRespuestaDefectoDialog" modal="true" showEffect="fade" hideEffect="fade"
			responsive="true" header="Editar/Crear Respuesta por defecto" dynamic="true" closeOnEscape="true" fitViewport="true" width="75%" resizable="false">
			<h:form id="EditarRespuestaDefectoForm">
				<p:autoUpdate />
				<div class="container-fluid" style="padding: 0px !important;">
					<div class="row">
						<div class="col-md-2">
							<h:outputLabel for="oneMenuAreaRespuestaDefecto" style="float:left!important;" value="Área:" />
						</div>
						<div class="col-md-10">
							<p:selectOneMenu id="oneMenuAreaRespuestaDefecto" value="#{mainController.respuestaDefectoEdit.area}" effect="fade" var="i" filter="true"
								filterMatchMode="contains" converter="areaConverter" style="width: 100%">

								<f:selectItems value="#{mainController.areas}" var="area" itemLabel="#{area.nombre}" itemValue="#{area}" />

								<p:column>
									<f:facet name="header" style="text-align: center;">
										<h:outputText value="Área" />
									</f:facet>
									<h:outputText value="#{i.nombre}" />
								</p:column>

								<f:facet name="footer">
									<h:outputText value="#{mainController.areas.size()} áreas en total" style="font-weight:bold" styleClass="p-py-1 p-d-block" />
								</f:facet>
							</p:selectOneMenu>
						</div>
					</div>
					<div class="row mt-2">
						<div class="col-md-2">
							<h:outputLabel for="oneMenuDefectoRespuesta" style="float:left!important;" value="Respuesta:" />
						</div>
						<div class="col-md-10">
							<p:selectOneMenu id="oneMenuDefectoRespuesta" value="#{mainController.respuestaDefectoEdit.respuesta}" effect="fade" var="i" filter="true"
								filterMatchMode="contains" converter="respuestaConverter" style="width: 100%">

								<f:selectItems value="#{mainController.respuestas}" var="respuesta" itemLabel="#{respuesta.respuesta}" itemValue="#{respuesta}" />

								<p:column>
									<f:facet name="header" style="text-align: center;">
										<h:outputText value="Respuesta" />
									</f:facet>
									<h:outputText value="#{i.respuesta}" />
								</p:column>

								<f:facet name="footer">
									<h:outputText value="#{mainController.respuestas.size()} respuestas en total" style="font-weight:bold" styleClass="p-py-1 p-d-block" />
								</f:facet>
							</p:selectOneMenu>
						</div>
					</div>
					<div class="row mt-2">
						<div class="col-md-2">
							<h:outputLabel for="puntuacionRespuestaDefecto" style="float:left!important;" value="Puntuación:" />
						</div>
						<div class="col-md-10">
							<h:inputText class="col-12" value="#{mainController.respuestaDefectoEdit.puntuacion}" id="puntuacionRespuestaDefecto" required="true"
								requiredMessage="Campo requerido" />
							<p:keyFilter mask="num" for="puntuacionRespuestaDefecto" />
						</div>
					</div>
					<div class="row mt-2">
						<div class="col-6">
							<p:commandLink id="saveButton" styleClass="btn btn-info btn-block col-12" action="#{mainController.persistRespuestaDefecto()}"
								onstart="start()" oncomplete="if (args &amp;&amp; !args.validationFailed) PF('EditarRespuestaDefectoDialog').hide();stop()">
								<span class="pi pi-check-circle" />
								<span>Aceptar</span>
								<span class="pi pi-check-circle" />
							</p:commandLink>
						</div>
						<div class="col-6">
							<p:commandLink id="cancelButton" type="button" styleClass="btn btn-secondary btn-block col-12"
								onclick="PF('EditarRespuestaDefectoDialog').hide()" immediate="true">
								<span class="pi pi-times-circle" />
								<span>Cancelar</span>
								<span class="pi pi-times-circle" />
							</p:commandLink>
						</div>
					</div>
				</div>
			</h:form>
		</p:dialog>

		<p:dialog id="EditarPerfilDialog" widgetVar="EditarPerfilDialog" modal="true" showEffect="fade" hideEffect="fade" responsive="true"
			header="Editar/Crear Perfil" dynamic="true" closeOnEscape="true" fitViewport="true" width="75%" resizable="false">
			<h:form id="EditarPerfilForm">
				<p:autoUpdate />
				<div class="container-fluid" style="padding: 0px !important;">
					<div class="row mt">
						<div class="col-md-2">
							<h:outputLabel for="nombrePerfil" style="float:left!important;" value="Nombre:" />
						</div>
						<div class="col-md-10">
							<h:inputText class="col-12" maxlength="50" value="#{mainController.perfilEdit.perfil}" id="nombrePerfil" required="true"
								requiredMessage="Campo requerido" />
						</div>
					</div>
					<div class="row mt-2">
						<div class="col-6">
							<p:commandLink id="saveButton" styleClass="btn btn-info btn-block col-12" action="#{mainController.persistPerfil()}" onstart="start()"
								oncomplete="if (args &amp;&amp; !args.validationFailed) PF('EditarPerfilDialog').hide();stop()">
								<span class="pi pi-check-circle" />
								<span>Aceptar</span>
								<span class="pi pi-check-circle" />
							</p:commandLink>
						</div>
						<div class="col-6">
							<p:commandLink id="cancelButton" type="button" styleClass="btn btn-secondary btn-block col-12" onclick="PF('EditarPerfilDialog').hide()"
								immediate="true">
								<span class="pi pi-times-circle" />
								<span>Cancelar</span>
								<span class="pi pi-times-circle" />
							</p:commandLink>
						</div>
					</div>
				</div>
			</h:form>
		</p:dialog>

		<p:confirmPopup global="true" width="350" style="text-align: center; margin: none">
			<p:commandButton value="Cancelar" type="button" styleClass="ui-confirm-popup-no ui-button-flat" />
			<p:commandButton value="Confirmar" type="button" styleClass="ui-confirm-popup-yes" />
		</p:confirmPopup>

		<p:confirmDialog showEffect="fade" hideEffect="fade" responsive="true" width="350">
			<p:commandButton value="Confirmar" type="button" styleClass="ui-confirmdialog-yes" />
			<p:commandButton value="Cancelar" type="button" styleClass="ui-confirmdialog-no ui-button-flat" />
		</p:confirmDialog>

		<p:dialog modal="true" header="Espere..." widgetVar="statusDialog" id="statusDialog" draggable="false" closable="false" resizable="false"
			width="120px" style="height=120px">
			<p:graphicImage value="/resources/ajax-loader.gif" style="display: block; margin: 0px auto; width:50px" />
		</p:dialog>

		<h:outputScript name="js/index.js" />

	</ui:define>
</ui:composition>